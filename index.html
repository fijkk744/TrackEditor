<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Track Viewer</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
		<div id="toolbar">
			<button id="menu">Menu</button>
			<button id="home">Reset</button>
		</div>
		<div id="area" style="display:none;">
			<textarea id="textbox"></textarea>
			<br>
			<button id="import">Import</button>
			<button id="export">Export</button>
			<button id="run">Run</button>
		</div>
    <script src="track.js"></script>
    <script src="viewer.js"></script>
	<script type="text/javascript">
		"use strict";
		function id(s) {
			return document.getElementById(s);
		}
		var viewer = new Viewer();
		function toggle() {
			var s = id("area").style;
			if (s.display == "none")
				s.display = "block";
			else s.display = "none";
		}
		id("menu").addEventListener("click", toggle, false);
		id("import").addEventListener("click", function() {
			viewer.track = Track.fromString(id("textbox"));
		}, false);
		id("export").addEventListener("click", function() {
			id("textbox").value = viewer.track.toString();
			id("textbox").select();
		}, false);
		id("run").addEventListener("click", function() {
			var track = viewer.track;
			eval(id("textbox").value);
		}, false);
		id("home").addEventListener("click", function() {
			viewer.resetTransform();
			viewer.render();
		}, false);

		
		viewer.track = Track.fromString("-18 1i 18 1i,15 1i 1m 1i 2n 1g 3n 1d 4m 19 5k 13 6g r 7c h 85 7 8u -6 9m -k ac -14 b1 -1l bl -28 c8 -2s cp -3i d9 -4a dh -4m du -4c du -40 dn -3g,193 -m4 19a -me 19n -n3 1a1 -no 1a8 -o7 1ab -oh 1af -os 1ah -p6 1aj -pg 1ak -pq 1al -q4 1al -qe 1al -qo 1ak -r2 1ai -rc 1ag -rm 1ae -rv 1ab -s9 1a7 -sj 1a3 -st 19u -t6 19o -tg 19f -tv 191 -ui 18h -v5 17u -vo 17k -101,mu -dk nh -dk om -dl pq -dn qt -dr ru -e1 sv -e7 tv -eg ut -eq vr -f5 10n -fi 11j -g1 12d -gh 137 -h3 13v -hm 14m -ia 15c -j0 15n -jc,uq -rq ug -rl tr -rc t6 -r3 sh -qq rs -qi r7 -qb qh -q4 pr -pu p6 -po of -pi np -pd n3 -p9 mc -p5 lm -p2 kv -ov k8 -ot js -os jt -oj k8 -ok ku -om lk -op mb -os n1 -ov nn -p4 od -p9 p3 -pe pq -pk qg -pr r6 -q2 rs -q9 sj -qi t9 -qr tv -r4 um -re ut -ri,4t -12c 4n -120 4c -118 43 -10h 3r -vs 3k -v7 3f -ui 3b -tv 38 -td 37 -sr 37 -sa 38 -rr 3b -rc 3f -qu 3k -qg 3q -q4 42 -pp 4c -pe 4m -p4 52 -or 5f -oj 5u -oc 6e -o6 6v -o1 7h -ns 85 -np 8q -nm 9h -nk a8 -nj b2 -nj bs -nj co -nl dl -nn e4 -np,m8 -144 m7 -13h m3 -12d lv -11c lp -10c lj -vf lb -uk l3 -tr kp -t5 kk -sq,-19 1i -1k 1q -1i 20 -19 23,-1f 22 -1h 2a -1b 2m -i 2u,-19 2o -19 30,-19 32 -14 37 -o 38,-1a 2v -18 33,-18 38 -18 3g,-18 34 -18 38 -17 36,-14 38 -18 3b,-16 37 -18 38,-15 38 -17 3a,-19 3f -q 3p -5 3t,dr -3r e0 -38 ds -2k,du -2r e3 -2f e5 -24 eq -1l,es -1l g2 -1j i6 -21 jk -31 lf -57 nd -9l o8 -bv o7 -cf o0 -cv n4 -db mu -dj,185 -j2 19q -k7 19t -l2 193 -m3,15n -jb 186 -j2,17j -101 17q -12f 16a -141 11s -16g vn -158 ue -18q,ue -18v pl -15e nc -112 l6 -ss ko -su,m7 -144 na -15m mr -17n kd -1ap kk -1du,l5 -1du rf -1i3,rh -1i9 11o -1o7,-a 43 -1e 6t -7k 7v,-8g 87 -is 69 -ia -h -9u -4d -70 -41,-70 -3v -1u -79,-1q -79 3u -d9,3k -d3 78 -g9,7e -gb c8 -lt,ca -lt dq -nb e2 -nn,4s -12f 3n -17b,3r -17f 9j -1e3,9h -1ef cf -1kc 70 -20s,uq -rq ut -rj#kn -sn kj -s7 km -s4 kp -s4 kt -s6 l0 -sl,kn -st kn -sn,ko -sn kq -sk l1 -sk l5 -sq,kn -s7 kl -rl kn -rm kp -s7 kl -s7,ki -rl ko -rm ko -rj km -r4 kf -r4 kg -rk,ki -r5 ke -ql,kb -qk kf -ql kf -q2 k7 -q2 k9 -qm,kb -q4 k7 -ph,k4 -pj k8 -ph k7 -p3 k2 -p3 k3 -pk,ju -ot k3 -p4 k7 -p4 k8 -ot#B 35 g 2q,T -dg 32,S 15b -vr");
		viewer.render();
	</script>
  </body>
</html>